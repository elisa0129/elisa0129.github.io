/* ...existing code... */
:root{
  --bg-gradient-1: linear-gradient(135deg, rgba(5,25,36,0.7), rgba(10,70,60,0.55));
  --accent: #9fe6c7;
  --text: #ffffff;
  --muted: rgba(255,255,255,0.85);
  --glass: rgba(0,0,0,0.25);
  --font-stack: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

*{box-sizing:border-box;margin:0;padding:0}
html,body,#root{height:100%}
body{
  font-family:var(--font-stack);
  color:var(--text);
  background: #071726;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Full-viewport hero */
.hero{
  min-height:100vh;
  width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  background-image:
    var(--bg-gradient-1),
    radial-gradient(1200px 600px at 10% 20%, rgba(18,85,60,0.18), transparent 30%),
    radial-gradient(1000px 500px at 90% 80%, rgba(80,130,90,0.12), transparent 30%);
  background-size:cover;
  background-position:center;
  position:relative;
  overflow:hidden;
}

/* optional subtle animated particle (CSS-only) */
.hero::after{
  content:"";
  position:absolute;
  inset:0;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600"><g opacity="0.03" fill="%23ffffff"><circle cx="20" cy="50" r="2"/><circle cx="200" cy="140" r="2"/><circle cx="600" cy="400" r="2"/></g></svg>');
  mix-blend-mode:overlay;
  pointer-events:none;
}

/* central content */
.overlay{
  text-align:center;
  padding:4rem 1.5rem;
  max-width:1100px;
  z-index:2;
  backdrop-filter: blur(6px) saturate(120%);
  border-radius:12px;
}

.title{
  font-size:clamp(2.25rem, 6vw, 5rem);
  line-height:1.02;
  letter-spacing:-0.02em;
  margin-bottom:0.6rem;
  font-weight:700;
  color:var(--text);
  text-shadow: 0 6px 30px rgba(2,6,8,0.6);
}

.subtitle{
  color:var(--muted);
  font-size:clamp(1rem, 2.2vw, 1.25rem);
  margin-bottom:1.6rem;
}

/* CTA */
.cta{
  display:inline-block;
  padding:0.9rem 1.6rem;
  background:linear-gradient(90deg, rgba(160,230,190,0.95), rgba(85,200,150,0.95));
  color:#052019;
  border-radius:10px;
  font-weight:600;
  text-decoration:none;
  box-shadow: 0 8px 24px rgba(10,70,50,0.28);
  transition:transform .16s ease, box-shadow .16s ease;
}
.cta:hover{ transform:translateY(-3px); box-shadow:0 14px 36px rgba(10,70,50,0.36) }
.cta:active{ transform:translateY(-1px) }

/* Responsive spacing for very small screens */
@media (max-width:420px){
  .overlay{ padding:3rem 1rem }
  .subtitle{ margin-bottom:1rem }
}

/* Onboarding: 2x2 vertical video thumbnails on the left, info on the right */
.onboarding{
  /* changed: allow page to grow and scroll while keeping at least one viewport */
  min-height:100vh;            /* ensure at least one viewport high, but allow taller content */
  display:flex;
  gap:3.5rem;
  align-items:flex-start;      /* top align so sticky works predictably */
  padding:3.5rem;
  box-sizing:border-box;       /* include padding in the sizing */
  background: linear-gradient(180deg, rgba(6,22,28,0.95), rgba(5,18,24,0.95));
  color:var(--text);
  /* removed overflow:hidden so the right panel can scroll the page normally */
}

/* Left: grid for 2x2 thumbnails that remain visually identical but stay sticky */
.videos{
  width:56%;
  /* changed: make the left column sticky to the viewport (keeps its size) */
  position:sticky;
  top:3.5rem;                  /* match the onboarding padding so it appears visually anchored */
  align-self:flex-start;       /* ensure sticky positioning uses the top of the section */
  height: calc(100vh - 7rem);  /* preserve previous full-height look (viewport minus vertical padding) */
  display:grid;
  grid-template-columns:repeat(2,1fr);
  grid-auto-rows:1fr;          /* two rows that split the available height evenly */
  gap:1rem;
  align-items:stretch;
}

/* Make each thumbnail fill its grid cell (remove fixed aspect-ratio) */
.vid-wrap{
  width:100%;
  height:100%;
  border-radius:12px;
  overflow:hidden;
  background:#000;
  box-shadow: 0 10px 30px rgba(2,8,10,0.5);
  display:block;
}

/* Video fills its container and crops to center */
.thumb{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

/* Right: onboarding copy stays vertically centered */
.panel{
  width:38%;
  max-width:520px;
  padding:2.25rem;
  border-radius:14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  backdrop-filter: blur(6px) saturate(120%);
  box-shadow: 0 12px 40px rgba(2,6,8,0.45);

  /* changed: keep left videos unchanged and sticky; make right panel tall so page scrolls */
  align-self:flex-start;   /* ensure panel starts at top of section so it scrolls up */
  height:200vh;            /* make the right-hand content 200% of the viewport */
  box-sizing:border-box;
  overflow:visible;
}

/* Responsive: stack on small screens; onboarding still fills viewport */
@media (max-width:900px){
  .onboarding{ flex-direction:column; padding:2rem; gap:1.5rem; height:100vh }
  .videos{ width:100%; grid-template-columns:repeat(2,1fr); grid-auto-rows: minmax(120px, 1fr) }
  .panel{ width:100%; height:auto }
}

/* Core narrative full-viewport chapters
   changed: make background video sticky (kept visible) while the chapter text area is 200vh tall and scrolls */
.chapter{
  position:relative;
  width:100%;
  min-height:200vh;    /* chapter tall so inner copy scrolls (200vh) */
  display:block;
  overflow:visible;
}

/* make the background video stick to the viewport top while its chapter is in view */
.chapter .bg-video{
  position:sticky;
  top:0;
  width:100%;
  height:100vh;        /* fill viewport while sticky */
  object-fit:cover;
  z-index:0;
  pointer-events:none;
  filter:brightness(.6) contrast(1.02);
}

/* overlay that sits above the video but below the text; keep it aligned with the sticky video */
.chapter::before{
  content:"";
  position:sticky;
  top:0;
  height:100vh;
  left:0;
  right:0;
  background:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.25));
  z-index:1;
  pointer-events:none;
}

/* centered copy that scrolls inside the tall chapter */
.chapter-inner{
  position:relative;
  z-index:2;
  max-width:900px;
  height:200vh;        /* the readable area that scrolls while bg stays visible */
  padding:3rem 1.25rem;
  display:flex;
  align-items:center;  /* center content within the first viewport height */
  justify-content:center;
  text-align:center;
  color:var(--text);
  box-sizing:border-box;
}

/* boxed readable panel for chapter text */
.chapter-inner { /* keep existing rules, add vertical padding to create breathing room */
  padding-top:6vh;
  padding-bottom:6vh;
}

/* text box that sits above the sticky background video */
.chapter-inner .text-box{
  background: linear-gradient(180deg, rgba(3,10,12,0.64), rgba(6,14,16,0.56));
  border-radius:14px;
  padding:2rem;
  max-width:760px;
  margin:0 auto;
  box-shadow: 0 18px 48px rgba(2,6,8,0.6);
  color:var(--text);
  border: 1px solid rgba(255,255,255,0.04);
  backdrop-filter: blur(6px) saturate(120%);
  text-align:left;
}

/* ensure headings and paragraphs inside the box are readable and spaced */
.chapter-inner .text-box .chapter-title{
  margin-bottom:0.5rem;
  color:var(--text);
}
.chapter-inner .text-box .chapter-copy{
  color:var(--muted);
  margin-bottom:1rem;
  line-height:1.7;
  font-size:1rem;
}

/* typography */
.chapter-title{
  font-size:clamp(1.6rem, 4vw, 2.8rem);
  margin-bottom:.6rem;
  font-weight:700;
  text-shadow:0 8px 30px rgba(0,0,0,0.6);
}
.chapter-copy{
  color:var(--muted);
  font-size:clamp(.95rem, 2.2vw, 1.15rem);
  line-height:1.6;
  max-width:780px;
  margin:0 auto;
}

/* adapt for small screens */
@media (max-width:900px){
  .chapter-inner .text-box{ padding:1.25rem; margin:1.5rem; border-radius:10px }
  .chapter-inner .text-box .chapter-copy{ font-size:.95rem }
  .chapter-inner{ padding:2rem 1rem; height:200vh }
  .chapter-title{ font-size:1.6rem }
}

/* top page scroll progress bar */
#top-progress{
  position:fixed;
  top:0;
  left:0;
  right:0;
  height:4px;                    /* very thin */
  background: rgba(255,255,255,0.04);
  z-index:99999;
  pointer-events:none;           /* don't block interactions */
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px);
}
#top-progress-bar{
  height:100%;
  width:0%;
  background: linear-gradient(90deg, var(--accent), rgba(120,220,170,0.9));
  box-shadow: 0 0 12px rgba(0,0,0,0.25), 0 0 18px rgba(160,230,190,0.06);
  transition: width 150ms linear;
  transform-origin: left center;
}

/* respect reduced motion preferences */
@media (prefers-reduced-motion: reduce){
  #top-progress-bar { transition: none; }
}

/* ensure progress bar doesn't cover sticky top spacing on onboarding */
body { padding-top:0.25rem; } /* optional small offset so sticky elements start below bar */

/* bottom-right persistent video controls */
.video-controls{
  position:fixed;
  right:18px;
  bottom:18px;
  display:flex;
  gap:10px;
  z-index:999999;
  align-items:center;
  pointer-events:auto;
}

.vc-btn{
  --size:44px;
  min-width:var(--size);
  height:var(--size);
  padding:0 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.18));
  color:var(--text);
  font-weight:600;
  font-size:0.9rem;
  cursor:pointer;
  box-shadow: 0 8px 24px rgba(2,6,8,0.45);
  backdrop-filter: blur(6px) saturate(120%);
  transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}

/* subtle hover/active */
.vc-btn:hover{ transform:translateY(-3px); box-shadow:0 14px 36px rgba(2,6,8,0.5) }
.vc-btn:active{ transform:translateY(-1px) }

/* mobile: reduce size and move slightly inward */
@media (max-width:420px){
  .video-controls{ right:12px; bottom:12px }
  .vc-btn{ --size:40px; font-size:0.85rem; padding:0 10px }
}

/* prefer-reduced-motion */
@media (prefers-reduced-motion: reduce){
  .vc-btn{ transition:none }
}